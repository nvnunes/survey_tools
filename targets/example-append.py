#!/usr/bin/env python3
# pylint: disable=too-many-lines,line-too-long
# pylint: disable=missing-module-docstring,missing-class-docstring,missing-function-docstring
# pylint: disable=too-few-public-methods,too-many-public-methods,too-many-instance-attributes,attribute-defined-outside-init
# pylint: disable=invalid-name,too-many-arguments,too-many-locals,too-many-statements,too-many-branches

from astropy.table import Table
import targets

experiment = 'RainingClumps-Kalita'

options = {
    'instrument'         : 'GNIRS-Altair-NGSAO',
    'resolving_power'    : 5900, # H-band
    'obs_epoch'          : 2025.0,
    'lines'              : ['NIIa', 'Ha', 'NIIb'],
    'default_dz'         : 3e-4, # FMOS
    'default_dispersion' : 200.0,
    'default_flux_radius': 1.0/2
}

# From: Kalita et al (2025) arXiv:2501.03328v1
galaxies = Table(names=[
    'id', 'ra', 'dec', 'z',
    'mass', 'mass_unc',
    'mass_buldge', 'mass_buldge_unc',
    'sfr_buldge', 'sfr_buldge_unc',
    'mass_disk', 'mass_disk_unc',
    'sfr_disk', 'sfr_disk_unc',
    'clumps', 'clump_candidates'
], rows=[
    (1987, 149.721750, 1.965500, 1.626438, 10.97, 0.04, 10.25, 0.21, 2.15, 0.22, 10.95, 0.20, 2.15, 0.22,  0,  4),
    ( 147, 149.745833, 2.125944, 1.556338, 11.07, 0.02, 10.07, 0.18, 2.00, 0.20, 10.88, 0.17, 2.00, 0.20,  3,  5),
    (1704, 149.775542, 2.251639, 1.673098, 10.90, 0.04,  9.73, 0.17, 1.83, 0.20, 10.65, 0.16, 1.83, 0.20,  0,  1),
    (2423, 149.825125, 1.978889, 1.487085, 10.91, 0.03, 10.60, 0.17, 1.85, 0.22, 10.45, 0.16, 1.85, 0.22,  1,  8),
    (1943, 149.832750, 2.024306, 1.482637, 10.90, 0.02, 10.06, 0.20, 1.76, 0.17, 10.82, 0.11, 1.76, 0.17,  1,  3),
    (1147, 149.854708, 2.115111, 1.481732, 11.05, 0.08, 10.34, 0.17, 2.01, 0.24, 10.74, 0.20, 2.01, 0.24,  0,  2),
    (  89, 149.855750, 2.130222, 1.478401, 11.09, 0.03, 10.27, 0.13, 1.74, 0.23, 10.55, 0.18, 1.74, 0.23,  2,  2),
    (1831, 149.877875, 2.297639, 1.509195, 10.96, 0.05, 10.32, 0.15, 1.90, 0.21, 10.71, 0.16, 1.90, 0.21,  0,  3),
    (1766, 149.887792, 2.499833, 1.672921, 10.92, 0.02, 10.36, 0.20, 2.01, 0.17, 10.87, 0.13, 2.01, 0.17,  3,  3),
    ( 682, 149.889708, 2.358778, 1.501451, 10.79, 0.02,  9.96, 0.16, 1.63, 0.20, 10.61, 0.14, 1.63, 0.20,  2,  6),
    ( 126, 149.912250, 2.281639, 1.550443, 10.96, 0.02, 10.40, 0.20, 1.65, 0.16, 10.64, 0.15, 1.65, 0.16,  7,  8),
    (1928, 149.923208, 1.898194, 1.552804, 11.02, 0.02,  9.91, 0.18, 1.89, 0.21, 10.81, 0.16, 1.89, 0.21,  0,  2),
    ( 193, 149.925333, 2.135028, 1.470131, 10.91, 0.05, 10.14, 0.17, 1.85, 0.29, 10.66, 0.18, 1.85, 0.29,  2,  6),
    (1945, 149.938375, 1.950056, 1.444649, 10.88, 0.05,  9.98, 0.23, 1.19, 0.22, 10.15, 0.15, 1.19, 0.22,  1,  3),
    ( 285, 149.972667, 2.490139, 1.453462, 10.92, 0.02,  9.93, 0.18, 1.90, 0.24, 10.65, 0.19, 1.90, 0.24,  0,  1),
    (3074, 149.985375, 2.561778, 1.557741, 10.96, 0.08, 10.23, 0.12, 1.90, 0.22, 10.80, 0.16, 1.90, 0.22,  1,  2),
    (2074, 149.997875, 2.480861, 1.462140, 11.05, 0.02, 10.22, 0.17, 2.07, 0.23, 10.90, 0.17, 2.07, 0.23, 14, 15),
    (1861, 150.001083, 2.321444, 1.459471, 11.00, 0.02, 10.34, 0.17, 1.69, 0.21, 10.59, 0.15, 1.69, 0.21,  2,  3),
    (1749, 150.025000, 2.355278, 1.610989, 10.87, 0.06, 10.30, 0.20, 1.72, 0.23, 10.53, 0.18, 1.72, 0.23,  2,  3),
    ( 281, 150.124042, 2.447583, 1.599120, 10.97, 0.03, 10.61, 0.16, 1.78, 0.22, 10.59, 0.18, 1.78, 0.22,  3,  3),
    (  81, 150.164458, 1.936306, 1.525303, 10.94, 0.02, 10.09, 0.19, 1.84, 0.21, 10.65, 0.16, 1.84, 0.21,  7,  8),
    (2151, 150.200875, 2.460639, 1.582532, 10.79, 0.04, 10.22, 0.20, 1.70, 0.23, 10.63, 0.16, 1.70, 0.23,  4,  7),
    (1663, 150.220708, 2.013139, 1.604375, 10.86, 0.04, 10.11, 0.17, 1.99, 0.23, 10.81, 0.17, 1.99, 0.23,  4,  4),
    ( 482, 150.258083, 2.240167, 1.603783, 10.89, 0.02, 10.15, 0.13, 1.88, 0.22, 10.72, 0.17, 1.88, 0.22,  7,  7),
    ( 428, 150.292500, 2.422167, 1.635788, 11.05, 0.04, 10.19, 0.15, 2.19, 0.22, 10.96, 0.19, 2.19, 0.22,  7, 11),
    (2905, 150.302250, 1.931889, 1.548028, 10.94, 0.05,  9.89, 0.17, 1.86, 0.19, 10.87, 0.14, 1.86, 0.19,  4,  7),
    (1394, 150.365458, 2.227500, 1.699351, 11.28, 0.05, 10.38, 0.17, 1.99, 0.14, 11.02, 0.11, 1.99, 0.14,  3,  3),
    (3165, 150.394917, 2.456361, 1.438470, 10.74, 0.04, 10.12, 0.17, 1.91, 0.24, 10.65, 0.19, 1.91, 0.24,  6,  9),
    (1334, 150.402917, 2.408833, 1.514096, 10.54, 0.04,  9.93, 0.16, 1.88, 0.20, 10.79, 0.18, 1.88, 0.20,  3,  7),
    ( 852, 150.441542, 2.129222, 1.557442, 11.44, 0.02, 10.44, 0.12, 2.27, 0.23, 10.98, 0.15, 2.27, 0.23,  6, 10),
    (4003, 150.469292, 2.476528, 1.579673, 10.86, 0.10, 10.00, 0.15, 1.69, 0.22, 10.62, 0.16, 1.69, 0.22,  4,  4),
    ( 495, 150.482708, 2.304139, 1.485021, 10.66, 0.02,  9.68, 0.18, 1.90, 0.23, 10.59, 0.18, 1.90, 0.23,  3,  7),
])

galaxies.add_column('FMOS', name='catalog', index=0)
galaxies.add_column(galaxies['sfr_disk'], name='lsfr') # for Ha flux estimate

# Append additional details and save
galaxies, lines, options = targets.append_details(options, galaxies)
targets.save_details(experiment, galaxies, lines, options)
print('Targets Saved!')
